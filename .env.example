# Server
PORT=3001
NODE_ENV=development

# Database
DATABASE_PATH=./data/cavendo.db

# Security
JWT_SECRET=your-secret-key-change-in-production
# SESSION_SECRET=your-session-secret    # Falls back to JWT_SECRET if not set
API_KEY_PREFIX=cav_ak

# CORS
CORS_ORIGIN=http://localhost:5173

# Proxy (set to 'true' or number of proxies when behind nginx/load balancer)
# TRUST_PROXY=true

# Webhooks
WEBHOOK_TIMEOUT_MS=5000
WEBHOOK_MAX_RETRIES=3
# Set to true to allow localhost/private IP webhook URLs (development/testing only)
# ALLOW_PRIVATE_WEBHOOKS=true

# Task Dispatcher (auto-execution of tasks assigned to agents with execution_mode='auto')
# DISPATCHER_INTERVAL_MS=30000     # Polling interval in ms (default: 30 seconds)
# DISPATCHER_BATCH_SIZE=5          # Max tasks to execute per cycle (default: 5)

# Agent Execution
# EXECUTION_TIMEOUT_MS=120000      # Provider API call timeout in ms (default: 120 seconds)

# Delivery Route Retries
# RETRY_SWEEP_INTERVAL_MS=15000    # Failed delivery retry sweep interval (default: 15 seconds)

# Rate Limiting
# RATE_LIMIT_API=300               # API requests per minute (default: 300)

# Encryption (set a strong key in production)
# ENCRYPTION_KEY=your-32-char-hex-key
# ENCRYPTION_SALT=your-random-salt-value

# Encryption Key Rotation (optional â€” overrides ENCRYPTION_KEY/ENCRYPTION_SALT when set)
# ENCRYPTION_KEYRING={"1":{"key":"hex-or-passphrase","salt":"salt-for-v1"},"2":{"key":"new-hex-key","salt":"new-salt"}}
# ENCRYPTION_KEY_VERSION_CURRENT=1

# Local Model Endpoints (openai_compatible provider)
# Default: only local/allowlisted endpoints permitted
# ALLOW_CUSTOM_PROVIDER_BASE_URLS=true   # Allow remote HTTPS endpoints (default: false)
# PROVIDER_BASE_URL_ALLOWLIST=gpu-box.lan,myserver.local:11434  # Comma-separated hosts
# OPENAI_COMPAT_DEFAULT_BASE_URL=http://localhost:11434  # Fallback when agent has no base URL

# Email Provider (for delivery route emails)
# Supported providers: smtp, sendgrid, mailjet, postmark, ses
EMAIL_PROVIDER=smtp
EMAIL_FROM=notifications@cavendo.local
EMAIL_FROM_NAME=Cavendo

# SMTP
EMAIL_SMTP_HOST=
EMAIL_SMTP_PORT=587
EMAIL_SMTP_SECURE=false
EMAIL_SMTP_USER=
EMAIL_SMTP_PASS=

# SendGrid
# EMAIL_SENDGRID_API_KEY=

# Mailjet
# EMAIL_MAILJET_API_KEY=
# EMAIL_MAILJET_SECRET_KEY=

# Postmark
# EMAIL_POSTMARK_SERVER_TOKEN=

# AWS SES
# EMAIL_SES_REGION=
# EMAIL_SES_ACCESS_KEY_ID=
# EMAIL_SES_SECRET_ACCESS_KEY=
